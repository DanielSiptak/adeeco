package cz.cuni.mff.d3s.deeco.knowledge;

import cz.cuni.mff.d3s.deeco.exceptions.KRExceptionAccessError;
import cz.cuni.mff.d3s.deeco.exceptions.KRExceptionUnavailableEntry;
import cz.cuni.mff.d3s.deeco.scheduling.IKnowledgeChangeListener;

public class LoggingKnowledgeRepository {
	
	KnowledgeRepository kr;
	
	public LoggingKnowledgeRepository(KnowledgeRepository knowledgeRepositoty) {
		this.kr=knowledgeRepositoty;
	}
	
	public Object [] get(String entryKey, ISession session)
			throws KRExceptionUnavailableEntry, KRExceptionAccessError
	{
		System.out.println("get S "+entryKey.toString());
		return kr.get(entryKey,session);	
	}
	public void put(String entryKey, Object value, ISession session)
			throws KRExceptionAccessError {
		System.out.println("put S "+entryKey.toString());
		kr.put(entryKey,value,session);
	}

	public Object [] take(String entryKey, ISession session)
			throws KRExceptionUnavailableEntry, KRExceptionAccessError {
		System.out.println("take S "+entryKey.toString());
		return kr.take(entryKey, session);
	}
	
	public boolean registerListener(IKnowledgeChangeListener listener) {
		System.out.println("register "+listener.getKnowledgePaths().toArray());
		return kr.registerListener(listener);
	}
	
	public boolean unregisterListener(IKnowledgeChangeListener listener) {
		System.out.println("unregister "+listener.getKnowledgePaths().toArray());
		return kr.unregisterListener(listener);
	}
	
	public void setListenersActive(boolean on) {
		System.out.println("activate "+on);
		kr.setListenersActive(on);
	}
	
	public boolean isListenersActive() {
		System.out.println("isActivate ");
		return kr.isListenersActive();
	}
	
	public ISession createSession() {
		System.out.println("create ");
		return kr.createSession();
	}

	public Object [] get(String entryKey) throws KRExceptionUnavailableEntry,
			KRExceptionAccessError {
		return kr.get(entryKey);
	}

	public void put(String entryKey, Object value)
			throws KRExceptionAccessError {
		kr.put(entryKey, value);
	}

	public Object [] take(String entryKey) throws KRExceptionUnavailableEntry, KRExceptionAccessError {
		return kr.take(entryKey);
	}
}
